<div *ngIf="user" class="card mx-auto mt-4" style="max-width: 500px;">
  <div class="card-body d-flex align-items-center">
    <div class="avatar rounded-circle bg-primary text-white d-flex justify-content-center align-items-center me-3"
      style="width: 60px; height: 60px; font-size: 30px;">
      üë§
    </div>
    <div class="user-info flex-grow-1">
      <h4 class="card-title mb-3">Hola, {{ user.fullName }}</h4>

      <form *ngIf="editMode; else viewMode" (ngSubmit)="saveChanges()" class="needs-validation" novalidate>
        <div class="mb-3">
          <label for="emailInput" class="form-label">Email</label>
          <input id="emailInput" type="email" class="form-control" [(ngModel)]="editableUser.email" name="email"
            required />
        </div>

        <div class="mb-3">
          <label for="emailInput" class="form-label">Nombre:</label>
          <input id="nombreInput" type="email" class="form-control" [(ngModel)]="editableUser.fullName" name="fullName"
            required />
        </div>

        <div class="mb-3">
          <label for="phoneInput" class="form-label">Tel√©fono</label>
          <input id="phoneInput" type="text" class="form-control" [(ngModel)]="editableUser.phoneNumber"
            name="phoneNumber" />
        </div>

        <div class="mb-3">
          <label for="passwordInput" class="form-label">Contrase√±a anterior</label>
          <input id="passwordInput" type="password" class="form-control" [(ngModel)]="editableUser.password"
            name="password" />
        </div>

        
        <div class="mb-3">
          <label for="passwordConfirmInput" class="form-label">Nueva contrase√±a</label>
          <input id="passwordConfirmInput" type="password" class="form-control"
            [(ngModel)]="editableUser.passwordConfirmed" name="passwordConfirmed" />
        </div>

        

        <button class="btn btn-primary me-2" type="submit">Guardar cambios</button>
        <button class="btn btn-secondary" type="button" (click)="cancelEdit()">Cancelar</button>
      </form>

      <ng-template #viewMode>
        <p><strong>Email:</strong> {{ user.email }}</p>
        <p><strong>Tel√©fono:</strong> {{ user.phoneNumber ? user.phoneNumber : 'No registrado' }}</p>
        <button class="btn btn-outline-primary" (click)="editProfile()">Editar perfil</button>
      </ng-template>
    </div>
  </div>
</div>